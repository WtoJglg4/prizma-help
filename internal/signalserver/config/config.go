// Пакет config отвечает за конфигурацию приложения
package config

import (
	"os"
)

// Config содержит все настройки приложения
type Config struct {
	// HTTPAddr - адрес и порт для HTTP сервера (например, ":5001")
	HTTPAddr string
}

// Load загружает конфигурацию из переменных окружения
// Если переменные не установлены, используются значения по умолчанию
func Load() Config {
	// Создаем конфигурацию со значениями по умолчанию
	cfg := Config{
		HTTPAddr: "127.0.0.1:5001", // По умолчанию сервер слушает на порту 5001
	}

	// Проверяем, установлена ли переменная окружения HTTP_ADDR
	// Если да - используем её значение вместо значения по умолчанию
	httpAddr, ok := os.LookupEnv("SIGNAL_SERVER_ADDR")
	if ok {
		cfg.HTTPAddr = httpAddr
	}

	return cfg
}
